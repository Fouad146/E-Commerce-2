import{a as $}from"./chunk-3I2CUNVT.js";import{a as E,b as k,c as D}from"./chunk-K7JNYOXB.js";import{l as j}from"./chunk-FXKKQLOH.js";import{a as W}from"./chunk-VTBKJ64V.js";import{i as T}from"./chunk-W52NJFE2.js";import{a as F}from"./chunk-RJW4F5IF.js";import"./chunk-LFFRWUCI.js";import{Ab as y,Bb as p,Fb as l,Gb as d,Hb as b,Kb as H,La as f,Oa as r,W as m,Za as w,a as h,aa as _,ba as v,cb as x,jb as c,lb as O,pb as C,qb as S,rb as o,sb as n,tb as s,ub as P,vb as I,wb as M}from"./chunk-YM5XIUHN.js";import"./chunk-EQDQRRRY.js";var z=i=>["/details",i],B=(i,t)=>t._id,L=(i,t)=>t.id;function N(i,t){i&1&&s(0,"img",10)}function X(i,t){i&1&&s(0,"img",11)}function Y(i,t){i&1&&s(0,"img",12)}function A(i,t){if(i&1&&(o(0,"div"),s(1,"img",13),o(2,"h5",14),l(3),n()()),i&2){let e=p().$implicit;r(),c("src",e.image,f)("alt",e.name),r(2),d(e.name)}}function G(i,t){i&1&&(P(0),x(1,A,4,3,"ng-template",3),I())}function U(i,t){if(i&1){let e=M();o(0,"div",9)(1,"div",15)(2,"div",16),s(3,"img",17),n(),o(4,"div",18)(5,"h5",19),l(6),n(),o(7,"p",20),l(8),n(),o(9,"div",21)(10,"p",22),l(11),s(12,"i",23),n(),o(13,"p",22),l(14),n()()()(),o(15,"div",24)(16,"button",25),y("click",function(){let g=_(e).$implicit,u=p();return v(u.getCartItem(g.id))}),s(17,"i",26),o(18,"span"),l(19," add to cart "),n()(),o(20,"button",27),y("click",function(){let g=_(e).$implicit,u=p();return v(u.getWish(g.id))}),s(21,"i",28),n()()()}if(i&2){let e=t.$implicit,a=p();r(),c("routerLink",H(11,z,e.id)),r(2),c("src",e.imageCover,f)("alt",e.slug),r(3),b(" ",e.slug.split("-").slice(0,2).join(" "),""),r(2),d(e.title.split(" ").slice(0,2).join(" ")),r(3),d(e.ratingsAverage),r(3),b("",e.price," EPG"),r(7),O("text-red-500",a.isInWishlist(e.id))("text-gray-200",!a.isInWishlist(e.id))}}var V=class i{homeseviceService=m(F);cartService=m(W);wishlistService=m($);toastrService=m(j);Products=new h;Categorys=new h;homepro=[];homecat=[];wishlist=new Set;ngOnInit(){this.getHomeProducts(),this.getHomeCategory()}ngOnDestroy(){this.Products.unsubscribe,this.Categorys.unsubscribe}getHomeProducts(){this.Products=this.homeseviceService.getproducts().subscribe({next:t=>{this.homepro=t.data},error:t=>{console.log(t)}})}getHomeCategory(){this.Categorys=this.homeseviceService.getcategory().subscribe({next:t=>{this.homecat=t.data},error:t=>{console.log(t)}})}customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:["<",">"],responsive:{0:{items:2},400:{items:3},740:{items:4},940:{items:6}},nav:!1};customOptions2={loop:!0,mouseDrag:!0,touchDrag:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1}},nav:!1};getCartItem(t){this.cartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this.toastrService.success(e.message,"Fresh Cart")},error:e=>{console.log(e),this.toastrService.error(e.message,"Fresh Cart")}})}getWish(t){this.wishlist.has(t)?(this.wishlist.delete(t),this.toastrService.info("Removed from wishlist","Fresh Cart")):this.wishlistService.addPrudectToWish(t).subscribe({next:e=>{console.log(e),this.toastrService.success(e.message,"Fresh Cart"),this.wishlist.add(t)},error:e=>{console.log(e),this.toastrService.error(e.message,"Fresh Cart")}})}isInWishlist(t){return this.wishlist.has(t)}saveWishlist(){localStorage.setItem("wishlist",JSON.stringify(Array.from(this.wishlist)))}loadWishlist(){let t=localStorage.getItem("wishlist");t&&(this.wishlist=new Set(JSON.parse(t)))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=w({type:i,selectors:[["app-home"]],decls:18,vars:2,consts:[[1,"stateic-slider","mb-10"],[1,"container","grid","grid-cols-[70%_30%]"],[3,"options"],["carouselSlide",""],["src","./XCM_Manual_1396328_4379575_Egypt_EG_BAU_GW_DC_SL_Bags_Wallets_379x304_1X._SY304_CB650636675_.jpg","alt","",1,"h-[300px]"],["src","./XCM_Manual_1533480_5305769_379x304_1X._SY304_CB616236518_.jpg","alt","",1,"h-[300px]"],[1,"dinamic-slider"],[1,"some-products","my-5"],[1,"container","grid","gap-6","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","xxl:grid-cols-6"],[1,"container","cart","overflow-hidden","max-w-sm","rounded-lg"],["src","./slider-image-1.jpeg","alt","",1,"h-[600px]"],["src","./slider-image-2.jpeg","alt","",1,"h-[600px]"],["src","./slider-image-3.jpeg","alt","",1,"h-[600px]"],[1,"w-full","h-[300px]",3,"src","alt"],[1,"text-center","text-gray-500","hover:text-green-800"],[3,"routerLink"],[1,"w-full"],[1,"rounded-t-lg","mx-auto",3,"src","alt"],[1,"px-5","py-2"],[1,"mb-2","capitalize","font-semibold","tracking-tight","text-green-600"],[1,"mb-3","font-normal"],[1,"flex","justify-between"],[1,"mb-3","font-semibold","text-gray-700"],[1,"fa-solid","fa-star","text-yellow-300"],[1,"b-cart","flex","justify-evenly","items-center","pb-3"],[1,"add-cart","capitalize","items-center","px-3","py-2","text-sm","font-medium",3,"click"],[1,"fa-solid","fa-plus"],[1,"heart",3,"click"],[1,"fa-solid","fa-heart","fa-2x","transition-all","duration-300"]],template:function(e,a){e&1&&(o(0,"section",0)(1,"div",1)(2,"div")(3,"owl-carousel-o",2),x(4,N,1,0,"ng-template",3)(5,X,1,0,"ng-template",3)(6,Y,1,0,"ng-template",3),n()(),o(7,"div"),s(8,"img",4)(9,"img",5),n()()(),o(10,"section",6)(11,"owl-carousel-o",2),C(12,G,2,0,"ng-container",null,B),n()(),o(14,"section",7)(15,"div",8),C(16,U,22,13,"div",9,L),n()()),e&2&&(r(3),c("options",a.customOptions2),r(8),c("options",a.customOptions),r(),S(a.homecat),r(4),S(a.homepro))},dependencies:[D,k,E,T],styles:[".cart[_ngcontent-%COMP%]{transition:all 1s}.cart[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{cursor:pointer}.cart[_ngcontent-%COMP%]   .add-cart[_ngcontent-%COMP%]{transform:translateY(200px);opacity:0;transition:all .8s;background-color:#4fa74f;border-radius:10px;color:#fff;width:80%;text-align:center}.cart[_ngcontent-%COMP%]   .add-cart[_ngcontent-%COMP%]:hover{background-color:#1c721c}.cart[_ngcontent-%COMP%]:hover{box-shadow:#4fa74f 0 0 25px 2px}.cart[_ngcontent-%COMP%]:hover   .add-cart[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20rem}"]})};export{V as HomeComponent};
